<% this.adminPage = 'group'; %>
<% include admin_header %>
<table class="ui center aligned celled table">
	<thead>
		<tr>
			<th>id</th>
			<th>组名</th>
			<th>删除</th>
		</tr>
	</thead>
	<tbody>
		<%  for (let G of Groups) {%>
		<tr>
			<td><%= G.id %></td>
			<td><%= G.group_name %></td>
			<td>
				<a onclick="$('#modal-remove-<%= G.id %>').modal('show');" style="color: #000; " href="#">
					<i class="remove icon"></i>
				</a>
				<div class="ui basic modal" id="modal-remove-<%= G.id %>">
					<div class="ui icon header">
						<i class="remove icon"></i>
						<p style="margin-top: 15px; ">删除用户组</p>
					</div>
					<div class="content" style="text-align: center; ">
						<p>确认删除该用户组吗？</p>
					</div>
					<div class="actions">
						<div class="ui red basic cancel inverted button">
							<i class="remove icon"></i>
							否
						</div>
						<a class="ui green ok inverted button remove_link"
							href-post="/admin/group/del/<%= G.id %>">
							<i class="checkmark icon"></i>
							是
						</a>
					</div>
				</div>
			</td>
		</tr>
		<%}%>
        </tbody>
	</table>

	<div class="ui form">
		<div class="two fields">
			<div class="field">
				<label>名称</label>
				<input type="text" id="group_name">
			</div>
			<div class="field">
				<div style="text-align: center; margin-top: 27px;"><div id="add_button" class="ui submit blue labeled icon button" onclick="submit()"><i class="ui add icon"></i>添加</a></div>
			</div>
		</div>
	</div>

	<form method="post" id="submit_form">
		<input type="hidden" name="data" id="submit_data">
	</form>
	<script>
		function submit() {
			$('#submit_data').val('{"name": "' + $('#group_name').val() + '"}');
			$('#submit_form').submit();
		}
	</script>

<% include admin_footer %>